<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! CDDL HEADER START
 !
 ! The contents of this file are subject to the terms of the
 ! Common Development and Distribution License, Version 1.0 only
 ! (the "License").  You may not use this file except in compliance
 ! with the License.
 !
 ! You can obtain a copy of the license at
 ! trunk/opends/resource/legal-notices/OpenDS.LICENSE
 ! or https://OpenDS.dev.java.net/OpenDS.LICENSE.
 ! See the License for the specific language governing permissions
 ! and limitations under the License.
 !
 ! When distributing Covered Code, include this CDDL HEADER in each
 ! file and include the License file at
 ! trunk/opends/resource/legal-notices/OpenDS.LICENSE.  If applicable,
 ! add the following below this CDDL HEADER, with the fields enclosed
 ! by brackets "[]" replaced with your own identifying information:
 !      Portions Copyright [yyyy] [name of copyright owner]
 !
 ! CDDL HEADER END
 !
 !
 !      Portions Copyright 2007 Sun Microsystems, Inc.
 ! -->

<adm:managed-object
     name="backend"
     plural-name="backends"
     package="org.opends.server.admin.std"
     xmlns:adm="http://www.opends.org/admin"
     xmlns:ldap="http://www.opends.org/admin-ldap">
  <adm:synopsis>
    <adm:user-friendly-plural-name/> are responsible for providing access
    to the underlying data presented by the server. The data may be stored
    locally (e.g., in an embedded database), remotely (e.g., in an
    external system), or generated on the fly (e.g., calculated from other
    information that is available).
  </adm:synopsis>
  <adm:tag name="database"/>
  <adm:profile name="ldap">
    <ldap:object-class>
      <ldap:oid>1.3.6.1.4.1.26027.1.2.5</ldap:oid>
      <ldap:name>ds-cfg-backend</ldap:name>
      <ldap:superior>top</ldap:superior>
    </ldap:object-class>
  </adm:profile>
  <adm:property name="backend-enabled"
    mandatory="true"
    multi-valued="false">
    <adm:synopsis>
      Indicates whether the backend is enabled for use in the server.
    </adm:synopsis>
    <adm:description>
      If a backend is not enabled, then its contents will not be accessible
      when processing operations.
    </adm:description>
    <adm:syntax>
      <adm:boolean />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.13</ldap:oid>
        <ldap:name>ds-cfg-backend-enabled</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="backend-class"
    mandatory="true"
    multi-valued="false">
    <adm:synopsis>
      The fully-qualified name of the Java class that provides the
      backend implementation.
    </adm:synopsis>
    <adm:description>
      The specified class must be a subclass of the
      org.opends.server.api.Backend superclass.  The backend must be disabled
      and re-enabled for changes to the handler class to take effect.
    </adm:description>
    <adm:requires-admin-action>
      <adm:component-restart/>
    </adm:requires-admin-action>
    <adm:syntax>
      <adm:java-class>
        <adm:instance-of>org.opends.server.api.Backend</adm:instance-of>
      </adm:java-class>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.11</ldap:oid>
        <ldap:name>ds-cfg-backend-class</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="backend-id" mandatory="true" read-only="true"
    multi-valued="false">
    <adm:synopsis>
      Provides a name that will be used to identify the associated
      backend.
    </adm:synopsis>
    <adm:description>
      The name must be unique among all backends in the server.
    </adm:description>
    <adm:syntax>
      <adm:string />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.14</ldap:oid>
        <ldap:name>ds-cfg-backend-id</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="backend-writability-mode"
    mandatory="true"
    multi-valued="false">
    <adm:synopsis>
      Specifies the behavior that the backend should use when processing write
      operations.
    </adm:synopsis>
    <adm:description>
      A value of "enabled" will allow write operations to be
      performed in that backend (if the requested operation is valid, the user
      has permission to perform the operation, the backend supports that type
      of write operation, and the global writability mode property is also
      enabled).  A value of "disabled" will cause all write attempts to
      fail, and a value of "internal-only" will cause external write attempts
      to fail but will allow writes by replication and internal operations.
    </adm:description>
    <adm:syntax>
      <adm:enumeration>
        <adm:value name="enabled">
          <adm:synopsis>
            Allows write operations to be performed in that backend.
          </adm:synopsis>
        </adm:value>
        <adm:value name="disabled">
          <adm:synopsis>
            Causes all write attempts to fail.
          </adm:synopsis>
        </adm:value>
        <adm:value name="internal-only">
          <adm:synopsis>
            Causes external write attempts to fail but allows writes by
            replication and internal operations.
          </adm:synopsis>
        </adm:value>
      </adm:enumeration>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.162</ldap:oid>
        <ldap:name>ds-cfg-backend-writability-mode</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="backend-base-dn"
    mandatory="true"
    multi-valued="true">
    <adm:synopsis>
      Specifies the base DN(s) for the data that the backend will handle.
    </adm:synopsis>
    <adm:description>
      A single backend may be responsible for one or more base DNs.  Note
      that no two backends may have the same base DN, although one backend
      may have a base DN that is below a base DN provided by another
      backend (similar to the use of sub-suffixes in the Sun Java System
      Directory Server).  Note that if any of the base DNs is subordinate
      to a base DN for another backend, then all base DNs for that backend
      must be subordinate to that same base DN.
    </adm:description>
    <adm:requires-admin-action>
      <adm:other>
        <adm:synopsis>
          No administrative action is required by default, although some action
          may be required on a per-backend basis before the new base DN may
          be used.
        </adm:synopsis>
      </adm:other>
    </adm:requires-admin-action>
    <adm:syntax>
      <adm:dn />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.10</ldap:oid>
        <ldap:name>ds-cfg-backend-base-dn</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
</adm:managed-object>

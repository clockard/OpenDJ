<!--
 ! CDDL HEADER START
 !
 ! The contents of this file are subject to the terms of the
 ! Common Development and Distribution License, Version 1.0 only
 ! (the "License").  You may not use this file except in compliance
 ! with the License.
 !
 ! You can obtain a copy of the license at
 ! trunk/opends/resource/legal-notices/OpenDS.LICENSE
 ! or https://OpenDS.dev.java.net/OpenDS.LICENSE.
 ! See the License for the specific language governing permissions
 ! and limitations under the License.
 !
 ! When distributing Covered Code, include this CDDL HEADER in each
 ! file and include the License file at
 ! trunk/opends/resource/legal-notices/OpenDS.LICENSE.  If applicable,
 ! add the following below this CDDL HEADER, with the fields enclosed
 ! by brackets "[]" replaced with your own identifying information:
 !      Portions Copyright [yyyy] [name of copyright owner]
 !
 ! CDDL HEADER END
 !
 !
 !      Portions Copyright 2007 Sun Microsystems, Inc.
 ! -->

<?xml version="1.0" encoding="utf-8"?>
<adm:managed-object name="multimaster-domain"
  plural-name="multimaster-domains"
  package="org.opends.server.admin.std"
  xmlns:adm="http://www.opends.org/admin"
  xmlns:ldap="http://www.opends.org/admin-ldap">
  <adm:synopsis>
    The
    <adm:user-friendly-name />
    is used to provide Multimaster Replication of several OpenDS copies
    of the same data
  </adm:synopsis>
  <adm:profile name="ldap">
    <ldap:object-class>
      <ldap:oid>1.3.6.1.4.1.26027.1.2.58</ldap:oid>
      <ldap:name>ds-cfg-replication-domain-config</ldap:name>
      <ldap:superior>top</ldap:superior>
    </ldap:object-class>
  </adm:profile>
  <adm:property name="replication-server" multi-valued="true"
    mandatory="true">
    <adm:synopsis>
      Specifies the addresses of the replication server to which this
      <adm:user-friendly-name />
      should try to connect at startup time.
    </adm:synopsis>
    <adm:description>
      Adresses must be specified using the syntax: hostname:port
    </adm:description>
    <adm:requires-admin-action>
      <adm:none />
    </adm:requires-admin-action>
    <adm:syntax>
      <adm:string></adm:string>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.160</ldap:oid>
        <ldap:name>ds-cfg-replication-server</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="server-id" multi-valued="false" mandatory="true"
    read-only="true">
    <adm:synopsis>
      Specifies the server ID of this multimaster provider.
    </adm:synopsis>
    <adm:description>
      Each multimaster provider must have a different server ID.
    </adm:description>
    <adm:requires-admin-action>
      <adm:none />
    </adm:requires-admin-action>
    <adm:syntax>
      <adm:integer></adm:integer>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.279</ldap:oid>
        <ldap:name>ds-cfg-directory-server-id</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="replication-dn" mandatory="true"
    multi-valued="false" read-only="true">
    <adm:synopsis>
      Specifies the base dn of the Multimaster Domain
    </adm:synopsis>
    <adm:syntax>
      <adm:dn></adm:dn>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.226</ldap:oid>
        <ldap:name>ds-cfg-replication-dn</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="max-receive-queue" mandatory="false"
    multi-valued="false">
    <adm:synopsis>
      Specifies the maximum length of the receive queue on the replication
      server before flow control must be activated.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:defined>
        <adm:value>0</adm:value>
      </adm:defined>
    </adm:default-behavior>
    <adm:syntax>
      <adm:integer></adm:integer>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.164</ldap:oid>
        <ldap:name>ds-cfg-max-receive-queue</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="max-receive-delay" mandatory="false"
    multi-valued="false">
    <adm:synopsis>
      Specifies the maximum delay on the replication server before flow
      control must be activated.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:defined>
        <adm:value>0s</adm:value>
      </adm:defined>
    </adm:default-behavior>
    <adm:syntax>
      <adm:duration base-unit="s" allow-unlimited="false"
        upper-limit="2147483647" lower-limit="0" />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.165</ldap:oid>
        <ldap:name>ds-cfg-max-receive-delay</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="max-send-queue" mandatory="false"
    multi-valued="false">
    <adm:synopsis>
      Specifies the maximum length of the send queue on the replication
      server before flow control must be activated.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:defined>
        <adm:value>0</adm:value>
      </adm:defined>
    </adm:default-behavior>
    <adm:syntax>
      <adm:integer></adm:integer>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.166</ldap:oid>
        <ldap:name>ds-cfg-max-send-queue</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="max-send-delay" mandatory="false"
    multi-valued="false">
    <adm:synopsis>
      Specifies the maximum send delay on the replication server before
      flow control must be activated.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:defined>
        <adm:value>0s</adm:value>
      </adm:defined>
    </adm:default-behavior>
    <adm:syntax>
      <adm:duration upper-limit="2147483647" allow-unlimited="false"
        lower-limit="0" base-unit="s" />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.167</ldap:oid>
        <ldap:name>ds-cfg-max-send-delay</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="window-size" mandatory="false"
    multi-valued="false">
    <adm:synopsis>
      Specifies the window size that will this Domain must use when
      communicating with replication servers.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:defined>
        <adm:value>100</adm:value>
      </adm:defined>
    </adm:default-behavior>
    <adm:syntax>
      <adm:integer></adm:integer>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.288</ldap:oid>
        <ldap:name>ds-cfg-window-size</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
  <adm:property name="heartbeat-interval" mandatory="false"
    multi-valued="false">
    <adm:synopsis>
      Specifies the heartbeat interval that this Domain must use when
      communicating with replication servers. The Domain will expect
      regular heatbeat coming from the replication server with this
      interval if they are not received it will close its connection and
      connect to another replication server.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:defined>
        <adm:value>1000ms</adm:value>
      </adm:defined>
    </adm:default-behavior>
    <adm:syntax>
      <adm:duration base-unit="ms" allow-unlimited="false"
        lower-limit="100" />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.305</ldap:oid>
        <ldap:name>ds-cfg-heartbeat-interval</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
</adm:managed-object>

<!DOCTYPE html PUBLIC "-//Tigris//DTD XHTML 1.0 Transitional//EN" "http://style.tigris.org/nonav/tigris_transitional.dtd">
<html>
<head>
<link rel="SHORTCUT ICON" href="https://opends.dev.java.net/public/images/opends_favicon.gif">
<style type="text/css"> 
/* <![CDATA[ */
 @import "/branding/css/tigris.css";
 @import "/branding/css/inst.css";
 /* ]]> */
</style>
<link rel="stylesheet" type="text/css" href="/branding/css/print.css" media="print" />
<link rel="stylesheet" href="../../../css/opends.css" type="text/css">
<title>OpenDS Directory Server - Quick Reference Guide</title>
</head>
<body>
<table class="tertmasttable" width="100%" cellspacing="0">
  <tbody>
    <tr>
      <td><div class="collectionheader">Command Line Usage Guide</div></td>
      <td width="10%"><a href="https://opends.dev.java.net/"><img src="../../../images/opends_logo_sm.png" alt="OpenDS Logo" width="104" height="33" border="0" align="middle"></a> </td>
    </tr>
  </tbody>
</table>
<hr noshade size="1" >
    <div align="right"><a href="index.html">Return to Command List</a></div>
    <div class="secpageheader">The verify-index Utility</div>

    <br>
    The <code>verify-index</code> utility may be used to ensure that the index
    and entry data within a Directory Server database are consistent.  That is,
    that all entries are properly indexed, and that all index data references
    entries that are exist and that actually match the the corresponding index
    data.  This tool may also provide information about the number of index
    keys that have reached the index entry limit (formerly known as the ALL IDs
    threshold in the Sun Java System Directory Server).

    <br><br>
    At the present time, this utility is only available for the Directory
    Server backend that uses the Berkeley DB Java Edition to store its
    information.  None of the other backend types currently available maintain
    on-disk indexes and therefore there is no need to have any tool that may
    verify index consistency.

    <br><br>
    In order to use this tool, the <code>--baseDN</code> option must be used to
    specify the base DN of the backend below which to perform the validation.
    The complete set of arguments that may be provided include:

    <ul>
      <li>
        <code>-b</code> <i>{dn}</i>
        <br>
        <code>--baseDN</code> <i>{dn}</i>
        <br><br>
        This argument specifies the base DN for which to perform the
        verification.  The provided value must be a base DN for a backend based
        on the Berkeley DB Java Edition.  This is a required argument, and only
        one base DN may be provided.
        <br><br>
      </li>

      <li>
        <code>-i</code> <i>{index}</i>
        <br>
        <code>--index</code> <i>{index}</i>
        <br><br>
        This argument specifies the name of an index for which to perform the
        verification.  If the <code>--clean</code> option is provided, then
        this argument must be provided exactly once; otherwise it may be
        specified zero or more times.  If it is not provided, then all indexes
        will be checked.
        <br><br>
        For an attribute index, the index name should be the name of the
        attribute, and an index must be configured for that attribute in the
        associated backend.  Other index names that may be provided include
        "dn2id" (which is a mapping of entry DNs to their corresponding entry
        IDs), "id2children" (which is a mapping of the entry ID for an entry to
        the entry IDs of its immediate children), and "id2subtree" (which is a
        mapping of the entry ID for an entry to the entry IDs of all of its
        subordinates).
        <br><br>
      </li>

      <li>
        <code>-c</code>
        <br>
        <code>--clean</code>
        <br><br>
        This argument indicates that the verification process should verify
        that an index is "clean", which means that all of the entry IDs in all
        of the index keys refer to entries that actually exist and match the
        criteria for that index key.  If this option is provided, then exactly
        one index should be specified using the <code>--index</code> argument.
        <br><br>
        If this argument is not given, then the verification process will wall
        the id2entry database (which is a mapping of each entry ID to the
        actual data for that entry) and ensure that all of the entry contents
        are properly indexed.
        <br><br>
      </li>

      <li>
        <code>-H</code>
        <br>
        <code>--help</code>
        <br><br>
        This argument will display usage information for the
        <code>verify-index</code> utility and will exit without attempting to
        perform any data validation.
        <br><br>
      </li>
    </ul>
  </body>
</html>

